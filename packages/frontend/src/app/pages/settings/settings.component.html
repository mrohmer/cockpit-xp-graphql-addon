<form [formGroup]="form">
  <ng-container formGroupName="server">
    <app-settings-row>
      <label for="server-host" appSettingsHeadline>
        Server Host
      </label>

      <input id="server-host" type="url" formControlName="host" placeholder="localhost" />

      <div *ngIf="form.get('server.host')?.touched && form.hasError('isUrl', 'server.host')">
        Bitte gib eine valide URL an.
      </div>
    </app-settings-row>
    <app-settings-row>
      <label for="server-port" appSettingsHeadline>
        Server Port
      </label>

      <input id="server-port" type="number" min="1" max="65512" formControlName="port" placeholder="80" />

      <ng-container *ngIf="form.get('server.port')?.touched">
        <div *ngIf="form.hasError('min', 'server.port')">
          Bitte gib einen Wert größer 0 ein.
        </div>
        <div *ngIf="form.hasError('max', 'server.port')">
          Bitte gib einen Wert kleiner 65512 ein.
        </div>
      </ng-container>
    </app-settings-row>
  </ng-container>
  <app-settings-row *ngIf="wakeLockService.isSupported">
    <label for="wake-lock" appSettingsHeadline>
      Bildschirm angeschaltet lassen.
    </label>

    <input id="wake-lock" type="checkbox" formControlName="wakeLock" />
  </app-settings-row>
  <app-settings-row>
    <label for="dark-mode" appSettingsHeadline>
      Dark Mode
    </label>

    <input id="dark-mode" type="checkbox" formControlName="darkMode" />
  </app-settings-row>
  <app-settings-row>
    <button (click)="restoreDefaults()">Auf Standartwerte zurücksetzen</button>
  </app-settings-row>
</form>
